"use strict";window.addEventListener("DOMContentLoaded",(function(){var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";!function(){var e,t,n,i=document.querySelector(".slider"),s=i.querySelector(".slider__wrapper"),o=i.querySelectorAll(".slider__slide"),l=i.querySelector(".slider__next"),r=i.querySelector(".slider__dots"),a=i.querySelectorAll(".slider__dot"),c=i.querySelectorAll(".slider__line"),u=Array.from(o),d="ontouchstart"in window,m={POINTER_DOWN:d?"touchstart":"mousedown",POINTER_UP:d?"touchend":"mouseup",POINTER_MOVE:d?"touchmove":"mousemove",POINTER_CLICK:d?"touchend":"click"};function v(e,t){return u=e.slice(t).concat(e.slice(0,t))}function g(e){var t=e.item,n=e.addClass,i=e.removeClass1,s=e.removeClass2,o=e.removeClass3,l=e.removeClass4;t.classList.remove(i),t.classList.remove(s),t.classList.remove(o),t.classList.remove(l),t.classList.add(n)}function f(e){e.forEach((function(t,n){switch(n!=o.length-1&&(t.style.zIndex=o.length-n),n){case 0:g({item:t,addClass:"current-slide",removeClass1:"third-slide",removeClass2:"prev-slide",removeClass3:"prevprev-slide",removeClass4:"second-slide"});break;case 1:g({item:t,addClass:"second-slide",removeClass1:"current-slide",removeClass2:"prev-slide",removeClass3:"prevprev-slide",removeClass4:"third-slide"});break;case 2:g({item:t,addClass:"third-slide",removeClass1:"current-slide",removeClass2:"prev-slide",removeClass3:"prevprev-slide",removeClass4:"second-slide"});break;case e.length-2:g({item:t,addClass:"prevprev-slide",removeClass1:"third-slide",removeClass2:"current-slide",removeClass3:"prev-slide",removeClass4:"second-slide"});break;case e.length-1:g({item:t,addClass:"prev-slide",removeClass1:"third-slide",removeClass2:"current-slide",removeClass3:"prevprev-slide",removeClass4:"second-slide"}),t.style.zIndex=o.length+1}}))}function h(e){var t,n;if(d){var i=e.changedTouches;if(null==i||i.length>1)return!1;t=(i[0].pageX||i[0].clientX)-s.getBoundingClientRect().left,n=(i[0].pageY||i[0].clientY)-s.getBoundingClientRect().top}else t=(e.cleintX||e.pageX)-s.getBoundingClientRect().left,n=(e.clientY||e.pageY)-s.getBoundingClientRect().top;return{x:t,y:n}}function E(t){t.preventDefault();var i=h(t);return e=i.x,n=!0,e}function y(a){var c=h(a),u=i.querySelector(".current-slide"),d=i.querySelector(".prev-slide");n=!1,t=c.x,e&&t&&(e-t>0&&Math.abs(e-t)/502>1/6?D():e-t<0&&Math.abs(e-t)/502>1/6?function(){S(s),C(l,r);var n=+i.querySelector(".current-slide").getAttribute("data-num");A(500,0,500/3,250),0==n?q(!0):(_(o.length-1),T());setTimeout((function(){L(l,r),b(s)}),600),e=0,t=0}():Math.abs(e-t)/502<1/6&&A(500,0,500/3,250)),u.style.left="",d.style.left="",d.style.opacity=""}function p(t){var o=t.pageX-s.getBoundingClientRect().left,l=i.querySelector(".current-slide"),r=i.querySelector(".prev-slide");n&&e-o>0?(l.style.transitionDuration="",l.style.transitionDelay="",l.style.left="".concat(-(e-o),"px"),r.style.left=""):n&&e-o<0&&(r.style.transitionDuration="",r.style.transitionDelay="",r.style.left="calc(-100% + 118px + ".concat(-(e-o),"px)"),r.style.opacity="1",l.style.left=""),n&&(o<60&&e>60||o>502&&e<502)&&y(t)}function b(e){e.addEventListener(m.POINTER_DOWN,E,!1),e.addEventListener(m.POINTER_MOVE,p,!1),e.addEventListener(m.POINTER_UP,y,!1)}function S(e){e.removeEventListener(m.POINTER_DOWN,E,!1),e.removeEventListener(m.POINTER_UP,y,!1),e.removeEventListener(m.POINTER_MOVE,p,!1)}function L(e,t){e.addEventListener(m.POINTER_CLICK,D,!1),t.addEventListener(m.POINTER_CLICK,I,!1),s.addEventListener(m.POINTER_MOVE,p,!1)}function C(e,t){e.removeEventListener(m.POINTER_CLICK,D,!1),t.removeEventListener(m.POINTER_CLICK,I,!1),s.removeEventListener(m.POINTER_MOVE,p,!1)}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;v(u,e),f(u),S(s),C(l,r)}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500/3,t=+i.querySelector(".current-slide").getAttribute("data-num");a.forEach((function(n,i){i<=t&&0!=i?i==o.length-1?(n.previousElementSibling.classList.add("active-line"),setTimeout((function(){n.classList.add("active-dot")}),3*e/2)):(n.previousElementSibling&&n.previousElementSibling.classList.add("active-line"),setTimeout((function(){n.classList.add("active-dot")}),e),setTimeout((function(){n.nextElementSibling&&n.nextElementSibling.classList.add("active-line")}),2*e)):i>t&&(i==o.length-1?(n.classList.remove("active-dot"),setTimeout((function(){n.previousElementSibling&&n.previousElementSibling.classList.remove("active-line")}),3*e/2)):(setTimeout((function(){n.previousElementSibling&&n.previousElementSibling.classList.remove("active-line")}),2*e),setTimeout((function(){n.classList.remove("active-dot")}),e),n.nextElementSibling&&n.nextElementSibling.classList.remove("active-line")))}))}function q(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?o.length-1:1;_(t),a.forEach((function(t,n){n==a.length-1?(t.querySelector(".slider__progress").style.transitionDuration="".concat(500/(2*(a.length-1)),"ms"),t.previousElementSibling&&(t.previousElementSibling.querySelector(".slider__progress").style.transitionDuration="".concat(500/(2*(a.length-1)),"ms")),t.nextElementSibling&&(t.nextElementSibling.querySelector(".slider__progress").style.transitionDuration="".concat(500/(2*(a.length-1)),"ms")),e?setTimeout((function(){t.previousElementSibling&&t.previousElementSibling.classList.add("active-line"),setTimeout((function(){t.classList.add("active-dot")}),500/(2*(a.length-1)))}),500*(n-1)/(a.length-1)):setTimeout((function(){t.nextElementSibling&&t.nextElementSibling.classList.remove("active-line"),setTimeout((function(){t.classList.remove("active-dot")}),500/(3*(a.length-1))),setTimeout((function(){t.previousElementSibling&&t.previousElementSibling.classList.remove("active-line")}),500/(3*(a.length-1))*2)}),500*(a.length-1-n)/(a.length-1))):(t.querySelector(".slider__progress").style.transitionDuration="".concat(500/(3*(a.length-1)),"ms"),t.previousElementSibling&&(t.previousElementSibling.querySelector(".slider__progress").style.transitionDuration="".concat(500/(3*(a.length-1)),"ms")),t.nextElementSibling&&(t.nextElementSibling.querySelector(".slider__progress").style.transitionDuration="".concat(500/(3*(a.length-1)),"ms")),e?setTimeout((function(){t.previousElementSibling&&t.previousElementSibling.classList.add("active-line"),setTimeout((function(){t.classList.add("active-dot")}),500/(3*(a.length-1))),setTimeout((function(){t.nextElementSibling&&t.nextElementSibling.classList.add("active-line")}),500/(3*(a.length-1))*2)}),500*(n-1)/(a.length-1)):setTimeout((function(){t.nextElementSibling&&t.nextElementSibling.classList.remove("active-line"),setTimeout((function(){t.classList.remove("active-dot")}),500/(3*(a.length-1))),setTimeout((function(){t.previousElementSibling&&t.previousElementSibling.classList.remove("active-line")}),500/(3*(a.length-1))*2)}),500*(a.length-1-n)/(a.length-1)))}))}function A(e,t,n,i){o.forEach((function(n){n.style.transitionDuration="".concat(e,"ms"),n.style.transitionDelay="".concat(t,"ms")})),a.forEach((function(e,t){e.querySelector(".slider__progress").style.transitionDuration="".concat(n,"ms"),t==a.length-1&&(e.querySelector(".slider__progress").style.transitionDuration="".concat(i,"ms"))})),c.forEach((function(e,t){e.querySelector(".slider__progress").style.transitionDuration="".concat(n,"ms"),t==c.length-1&&(e.querySelector(".slider__progress").style.transitionDuration="".concat(i,"ms"))}))}function D(){S(s),C(l,r);var n=+i.querySelector(".current-slide").getAttribute("data-num"),o=+i.querySelector(".last-dot").getAttribute("data-dotnum");A(500,0,500/3,250),n==o?q():(_(),T()),d?setTimeout((function(){L(l,r),b(s)}),700):setTimeout((function(){L(l,r),b(s)}),600),e=0,t=0}function I(e){var t=e.target;if(t.classList.contains("slider__dot")||t.classList.contains("slider__progress")){var n,i,a=(+t.getAttribute("data-dotnum")||+t.parentElement.getAttribute("data-dotnum"))-+document.querySelector(".current-slide").getAttribute("data-num"),c=Math.fround(500/Math.fround(Math.sqrt(Math.abs(a)))),u=Math.fround(0/Math.fround(Math.sqrt(Math.abs(a)))),d=(c+u)/3;A(c,u,d,3*d/2),a>0?(_(),T(d),n=setInterval(_,c+u),i=setInterval(T,c+u,d),setTimeout((function(){L(l,r),b(s),clearInterval(n)}),(Math.abs(a)-1)*(c+u+30)),setTimeout((function(){clearInterval(i)}),(Math.abs(a)-1)*(c+u+30))):a<0&&(_(o.length-1),T(d),n=setInterval(_,c+u,o.length-1),setTimeout((function(){L(l,r),b(s),clearInterval(n)}),(Math.abs(a)-1)*(c+u+30)),i=setInterval(T,c+u,d),setTimeout((function(){clearInterval(i)}),(Math.abs(a)-1)*(c+u+30)))}}function x(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.forEach((function(s,o){s.setAttribute(t,o),i?(s.style.transitionDuration="".concat(500,"ms"),s.style.transitionDelay="".concat(0,"ms")):(s.querySelector(".slider__progress").style.transitionDuration="".concat(500/3,"ms"),o==e.length-1&&(s.classList.add(n),s.querySelector(".slider__progress").style.transitionDuration="".concat(250,"ms")))}))}x(o,"data-num","",!0),x(a,"data-dotnum","last-dot"),x(c,"data-line","last-line"),f(u),L(l,r),b(s)}();!function(){var e,t,n=document.querySelector(".progress-bar"),i=n.querySelectorAll(".progress-bar__dot"),s=n.querySelectorAll(".progress-bar__line"),o=document.querySelector(".features__content"),l=o.querySelectorAll(".block"),r=o.querySelectorAll(".block__title"),a=n.querySelectorAll(".progress-bar__progress"),c=[];function u(e,t){return parseFloat(window.getComputedStyle(e,null).getPropertyValue(t))}l.forEach((function(t,n){t.classList.contains("active")&&(e=n)})),a.forEach((function(e,t){e.style.transitionDuration="".concat(300,"ms"),t==a.length-1&&(e.style.transitionDuration="".concat(600,"ms"))}));var d=u(l[0].lastElementChild,"height"),m=u(l[0].firstElementChild,"margin-bottom");function v(e,t){e.forEach((function(e,n){e.setAttribute(t,n)}))}l[0].style.marginBottom="".concat(d+m,"px"),v(i,"data-progressDot"),v(s,"data-progressLine"),v(r,"data-title"),v(l,"data-block"),function e(){s.forEach((function(e,t){var n=c[t+1]-c[t]-14;e.style.height="".concat(n,"px")})),requestAnimationFrame(e)}(),function e(){r.forEach((function(e,t){c[t]=e.getBoundingClientRect().top})),requestAnimationFrame(e)}(),o.addEventListener("click",(function(n){var o=n.target;if(o&&o.classList.contains("title")){var r=o.parentNode.getAttribute("data-block");t=r-e,e=r;var a=u(o,"margin-bottom");l.forEach((function(e,t){if(t!=r)e.classList.remove("active"),e.style.marginBottom="";else{var n=u(e.lastElementChild,"height");e.classList.add("active"),e.style.marginBottom="".concat(n+a,"px")}})),console.log(t),function(e){var t=300*(3-Math.abs(e))*2/(Math.abs(e)+1);console.log(t),l.forEach((function(n,o){n.classList.contains("active")&&(i.forEach((function(n,i){i<=o&&0!=i?1==e?(1==i?(n.firstElementChild.style.transitionDuration="".concat(t/2,"ms"),console.log(n.firstElementChild)):2==i&&(n.firstElementChild.style.transitionDuration="".concat(t,"ms"),console.log(n.firstElementChild)),n.classList.add("active-dot")):2==e&&(1==i?(n.firstElementChild.style.transitionDuration="".concat(t,"ms"),n.classList.add("active-dot")):2==i&&(n.firstElementChild.style.transitionDuration="".concat(t,"ms"),setTimeout((function(){n.classList.add("active-dot")}),2*t))):-1==e?2==i?(n.firstElementChild.style.transitionDuration="".concat(t,"ms"),n.classList.remove("active-dot")):1==i&&(n.firstElementChild.style.transitionDuration="".concat(t/2,"ms"),setTimeout((function(){n.classList.remove("active-dot")}),t/2)):-2==e&&(2==i?(n.firstElementChild.style.transitionDuration="".concat(t,"ms"),n.classList.remove("active-dot")):1==i&&(n.firstElementChild.style.transitionDuration="".concat(t,"ms"),setTimeout((function(){n.classList.remove("active-dot")}),2*t)))})),s.forEach((function(n,i){i<=o&&0!=i?2==e?(n.firstElementChild.style.transitionDuration="".concat(t,"ms"),setTimeout((function(){n.classList.add("active")}),t)):1==e&&(n.firstElementChild.style.transitionDuration="".concat(t/2,"ms"),setTimeout((function(){n.classList.add("active")}),t/2)):-2==e?(n.firstElementChild.style.transitionDuration="".concat(t,"ms"),setTimeout((function(){n.classList.remove("active")}),t)):-1==e&&(n.firstElementChild.style.transitionDuration="".concat(t/2,"ms"),n.classList.remove("active"))})))}))}(t)}}))}()}));